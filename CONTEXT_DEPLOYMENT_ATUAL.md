# üìä CONTEXTO DO DEPLOYMENT ATUAL - iDeepX v3.3

**Data de cria√ß√£o:** 2025-11-06
**√öltima atualiza√ß√£o:** 2025-11-06
**Rede:** BSC Testnet
**Vers√£o do contrato:** iDeepXUnifiedSecure v3.3

---

## üîó ENDERE√áOS DOS CONTRATOS

### Contratos Principais

```
USDT (MockUSDTUnlimited):
0x1A77b3eD262986aB97F3A2eF066f1f3127c3b0Cc

Main Contract (iDeepXUnifiedSecure):
0x2d436d57a9Fd7559E569977652A082dDC9510740
```

### Links BSCScan

- **USDT:** https://testnet.bscscan.com/address/0x1A77b3eD262986aB97F3A2eF066f1f3127c3b0Cc
- **Main:** https://testnet.bscscan.com/address/0x2d436d57a9Fd7559E569977652A082dDC9510740

---

## üë• CARTEIRAS PRINCIPAIS

### Admin Wallet
```
Endere√ßo: 0xeb2451a8dd58734134dd7bde64a5f86725b75ef2
USDT Balance: $10,000,000.00
No Contrato: $0.00
Status: N√£o registrado (apenas deposita performance)
```

### Pioneer Wallet
```
Endere√ßo: 0x75d1a8ac59003088c60a20bde8953cbecfe41669
USDT na Carteira: $100,000.00
USDT no Contrato: $23.75 (dispon√≠vel)
Total Earned: $23.75
Diretos: 5
LAI Ativo: N√ÉO
Status: Qualificado para n√≠veis 6-10
```

---

## üìä ESTADO ATUAL DO SISTEMA

### M√©tricas Globais

```
üë• Total de Usu√°rios: 6
üéØ Usu√°rios Ativos (com LAI): 5
üí∞ Pool de Liquidez: $0.00
üè¢ Balance Infraestrutura: $0.00
üè¶ Balance Empresa: $0.00
üîí MLM Locked: $0.00
üì• Total Depositado: $0.00
üì§ Total Distribu√≠do: $0.00
üìÖ Semana Atual: 0
```

---

## üë• USU√ÅRIOS CRIADOS

### 1. Pioneer (N√≠vel 0)
```
Nome: Pioneer
Endere√ßo: 0x75d1a8ac59003088c60a20bde8953cbecfe41669
Sponsor: 0x0000000000000000000000000000000000000000 (Zero Address)
LAI: N√£o ativo
Diretos: 5
Balance: $23.75 USDT
```

### 2-6. Diretos do Pioneer (N√≠vel 1)

**Arquivo de refer√™ncia:** `pioneer-5-directs-1762441940185.json`

#### DIRECT_1
```
Endere√ßo: 0x5Ac0dBf26C69e3eAB0E67D695C4bc6c5Ad5B6d08
Private Key: 0x9e5a473c26e775dbb18d30c9b71d1f7a9f54cc9e36dbac56e85bfc8b3b6c9e44
Sponsor: Pioneer
LAI: Ativo
USDT: $5,000.00 (inicial) + gas
```

#### DIRECT_2
```
Endere√ßo: 0xC7E8c78DB4d825fd8fF0A0dc9B1a5ff8c6BBb3E4
Private Key: 0x2c70f3d8c3e1a3a5e2ed8eaab6e9c6e41f1f63c8b0ac4ea8c43c9e5c8b4a6d3f
Sponsor: Pioneer
LAI: Ativo
USDT: $5,000.00 (inicial) + gas
```

#### DIRECT_3
```
Endere√ßo: 0x002b8E08754e7e5A4C09E4d4B4e61a5a4C09E4d4
Private Key: 0xa5f3e8b4c6d9e7a8b5c3e9f1d2a6b8c4e7f1a3d5b9c2e4f6a8b1c3d5e7f9a2b4
Sponsor: Pioneer
LAI: Ativo
USDT: $5,000.00 (inicial) + gas
```

#### DIRECT_4
```
Endere√ßo: 0x7C8B0D47571bF9E4f8d9C8a4e3B5c2f1d8e9A6b3
Private Key: 0xc8e4f1a6b9d3e7f2a5c1e8b4f7d9a3c6e1f5b8a2d4c7e9f1b3a5c8d6e2f4a7b9
Sponsor: Pioneer
LAI: Ativo
USDT: $5,000.00 (inicial) + gas
```

#### DIRECT_5
```
Endere√ßo: 0x02E56740fAc5b9e8c4d7a3f1e9b6c2d5a8f1e4b7
Private Key: 0xe9b3a6c1f4d7e2a5b8c4f1e7d9a3c6b2e5f8a1d4c7e9b2f5a8c1d6e3f7a9b4c2
Sponsor: Pioneer
LAI: Ativo
USDT: $5,000.00 (inicial) + gas
```

**Resumo dos Diretos:**
- ‚úÖ Todos financiados com $5k USDT cada
- ‚úÖ Todos com 0.03 BNB para gas
- ‚úÖ Todos com LAI ativo ($19 cada)
- ‚úÖ Todos registrados com Pioneer como sponsor

---

## üí∞ FINANCEIRO

### Custos Totais do Setup

```
üìä CUSTOS DO SETUP COMPLETO:

USDT (Test Tokens - GR√ÅTIS):
  ‚Ä¢ Admin: $10,000,000.00
  ‚Ä¢ Pioneer: $100,000.00
  ‚Ä¢ 5 Diretos √ó $5,000.00 = $25,000.00
  ‚Ä¢ Total USDT: $10,125,000.00 (GR√ÅTIS - Mock)

BNB (Gas - Real):
  ‚Ä¢ Deploy USDT Mock: ~$0.05
  ‚Ä¢ Deploy Main Contract: ~$0.10
  ‚Ä¢ Setup + Mints: ~$0.05
  ‚Ä¢ 5 Diretos √ó 0.03 BNB = ~$0.15
  ‚Ä¢ Registros e LAI: ~$0.15
  ‚Ä¢ Total BNB: ~$0.50 USD

üíµ CUSTO REAL TOTAL: ~$0.50 USD em BNB
```

### Ganhos do Pioneer

```
Origem: Sponsor bonuses de LAI activations
C√°lculo: 5 diretos √ó $4.75 = $23.75
Status: Dispon√≠vel para saque
```

---

## üìÅ ARQUIVOS IMPORTANTES

### Contratos Solidity

```
contracts/iDeepXUnifiedSecure.sol
  - Contrato principal v3.3
  - Todas as corre√ß√µes de seguran√ßa aplicadas
  - Deploy: 0x2d436d57a9Fd7559E569977652A082dDC9510740

contracts/mocks/MockUSDTUnlimited.sol
  - Mock USDT com mint ilimitado
  - Apenas para testes
  - Deploy: 0x1A77b3eD262986aB97F3A2eF066f1f3127c3b0Cc
```

### Scripts Executados

```
‚úÖ scripts/setup-existing-contracts.js
  - Conecta aos contratos j√° deployados
  - Minta $10M para Admin e $100k para Pioneer
  - Resultado: Sucesso

‚úÖ scripts/create-5-directs.js
  - Cria 5 usu√°rios novos
  - Registra todos como diretos do Pioneer
  - Ativa LAI para todos
  - Resultado: 5/5 sucesso

‚úÖ scripts/debug-pioneer.js
  - Debug do registro do Pioneer
  - Registrou Pioneer com sponsor ZeroAddress
  - Resultado: Pioneer registrado

‚úÖ scripts/check-total-users.js
  - Verifica total de usu√°rios no contrato
  - Resultado: 6 usu√°rios

‚úÖ scripts/check-balances.js
  - Verifica balances de Admin e Pioneer
  - Resultado: Admin $10M, Pioneer $100,023.75
```

### Arquivos de Dados

```
pioneer-5-directs-1762441940185.json
  - Todas as private keys dos 5 diretos
  - Endere√ßos e dados completos
  - ‚ö†Ô∏è CR√çTICO: Manter seguro, cont√©m private keys
```

### Documenta√ß√£o

```
SETUP_COMPLETO.md
  - Documenta√ß√£o completa do setup
  - Instru√ß√µes passo a passo
  - Links e comandos

CONTEXT_DEPLOYMENT_ATUAL.md
  - Este arquivo
  - Estado atual completo
  - Refer√™ncia r√°pida
```

---

## üéØ ESTRUTURA MLM ATUAL

```
                    PIONEER (L0)
                        |
        +-------+-------+-------+-------+
        |       |       |       |       |
     DIR_1   DIR_2   DIR_3   DIR_4   DIR_5
      (L1)    (L1)    (L1)    (L1)    (L1)
       ‚úÖ      ‚úÖ      ‚úÖ      ‚úÖ      ‚úÖ
     LAI     LAI     LAI     LAI     LAI
```

**Legenda:**
- L0 = Pioneer (sem sponsor)
- L1 = Diretos do Pioneer (sponsor = Pioneer)
- ‚úÖ = LAI ativo
- LAI = Licen√ßa de Acesso ativa

**Status:**
- Pioneer tem 5 diretos ‚Üí **QUALIFICADO para n√≠veis 6-10**
- Todos os 5 diretos com LAI ativo
- Pioneer ainda sem LAI (precisa ativar $19)
- Pr√≥ximo: Expandir para L2, L3... at√© L10

---

## ‚öôÔ∏è CONFIGURA√á√ÉO DO CONTRATO

### Par√¢metros de Deploy

```solidity
constructor(
    address _usdt,      // 0x1A77b3eD262986aB97F3A2eF066f1f3127c3b0Cc
    bool _isProduction  // false (testnet)
)
```

### Taxas e Valores

```
LAI (Licen√ßa de Acesso): $19 USDT
Sponsor Bonus (25%): $4.75 USDT
Validade LAI: 365 dias

Distribui√ß√£o Performance:
  ‚Ä¢ Pool Liquidez: 5%
  ‚Ä¢ Infraestrutura: 12%
  ‚Ä¢ Empresa: 23%
  ‚Ä¢ MLM Pool: 60%
```

### N√≠veis MLM (10 n√≠veis)

```
Beta Phase (primeiros 90 dias):
  L1: 6%
  L2: 3%
  L3: 2.5%
  L4: 2%
  L5-L10: 1% cada

Permanent Phase (ap√≥s 90 dias):
  L1: 4%
  L2: 2%
  L3: 1.5%
  L4: 1%
  L5-L10: 1% cada

Requisito L6-L10: 5+ diretos
```

---

## üîê SEGURAN√áA

### Controles Implementados

```
‚úÖ ReentrancyGuard em todas as fun√ß√µes cr√≠ticas
‚úÖ Pausable pelo admin
‚úÖ Valida√ß√µes de sponsor registrado
‚úÖ Prote√ß√£o contra overflow (Solidity 0.8+)
‚úÖ Limites de batch processing (500 max)
‚úÖ Valida√ß√µes de LAI ativo
‚úÖ Cleanup de usu√°rios inativos
‚úÖ Event logging completo
```

### Admin Functions

```
onlyOwner:
  ‚Ä¢ depositWeeklyPerformanceFee()
  ‚Ä¢ batchProcessPerformanceFees()
  ‚Ä¢ emergencyWithdraw()
  ‚Ä¢ pause() / unpause()
  ‚Ä¢ transferOwnership()
```

---

## üìä PR√ìXIMOS PASSOS

### Imediatos

1. **Pioneer ativar LAI ($19)**
   ```
   Status: Pendente
   Custo: $19 USDT
   A√ß√£o: approve() + activateLAI()
   Benef√≠cio: Pode receber MLM de toda a rede
   ```

2. **Admin depositar performance ($35k test)**
   ```
   Status: Pendente
   Custo: $35,000 USDT
   A√ß√£o: approve() + depositWeeklyPerformanceFee()
   Distribui√ß√£o: 5% Liquidez, 12% Infra, 23% Empresa, 60% MLM
   ```

3. **Processar batch de distribui√ß√£o**
   ```
   Status: Pendente (depende do #2)
   A√ß√£o: batchProcessPerformanceFees(0, 500)
   Resultado: Distribuir MLM para os 6 usu√°rios
   ```

### Testes Planejados

4. **Verificar distribui√ß√£o MLM**
   - Pioneer deve receber de L1 (5 diretos)
   - Verificar percentuais corretos
   - Verificar balances atualizados

5. **Criar rede L2**
   - Cada direto do Pioneer ter 1-2 diretos
   - Total: +5 a +10 usu√°rios
   - Verificar distribui√ß√£o L1 ‚Üí L2

6. **Expandir at√© L10**
   - Criar usu√°rios em todos os 10 n√≠veis
   - Testar distribui√ß√£o completa
   - Verificar requisito de 5 diretos para L6-L10

7. **Testar saques**
   - Pioneer sacar $23.75
   - Verificar withdrawal fee (5%)
   - Verificar fundos recebidos na carteira

8. **Testar batch grande**
   - Criar 100+ usu√°rios
   - Processar batch de 500
   - Verificar gas usage e limites

---

## üêõ PROBLEMAS RESOLVIDOS

### Issue #1: Constructor Arguments
```
Erro: incorrect number of arguments to constructor
Causa: Faltava par√¢metro isProduction
Fix: Adicionado false como segundo par√¢metro
Status: ‚úÖ Resolvido
```

### Issue #2: Replacement Transaction Underpriced
```
Erro: replacement transaction underpriced
Causa: M√∫ltiplas transa√ß√µes pendentes com mesmo nonce
Fix: Adicionar .wait() em todas as transa√ß√µes
Status: ‚úÖ Resolvido
```

### Issue #3: Sponsor Not Registered
```
Erro: execution reverted: Sponsor not registered
Causa: Pioneer n√£o estava registrado antes de criar diretos
Fix: Adicionar verifica√ß√£o e registro do Pioneer primeiro
Status: ‚úÖ Resolvido
```

### Issue #4: Pioneer Registration Detection
```
Erro: getUserDashboard() retorna zeros para n√£o registrado
Causa: Fun√ß√£o retorna valores padr√£o em vez de revert
Fix: Verificar userData.registered diretamente
Status: ‚úÖ Resolvido
```

---

## üíª COMANDOS √öTEIS

### Compilar
```bash
npx hardhat compile
```

### Verificar Usu√°rios
```bash
npx hardhat run scripts/check-total-users.js --network bscTestnet
```

### Verificar Balances
```bash
npx hardhat run scripts/check-balances.js --network bscTestnet
```

### Criar Diretos
```bash
npx hardhat run scripts/create-5-directs.js --network bscTestnet
```

### Debug Pioneer
```bash
npx hardhat run scripts/debug-pioneer.js --network bscTestnet
```

### Setup Contratos Existentes
```bash
npx hardhat run scripts/setup-existing-contracts.js --network bscTestnet
```

---

## üìû INFORMA√á√ïES DE SUPORTE

### Redes e RPC

```
Testnet:
  Chain ID: 97
  RPC: https://data-seed-prebsc-1-s1.binance.org:8545
  Explorer: https://testnet.bscscan.com

Mainnet (futuro):
  Chain ID: 56
  RPC: https://bsc-dataseed1.binance.org
  Explorer: https://bscscan.com
```

### Faucets (BNB Testnet)

```
https://testnet.bnbchain.org/faucet-smart
https://www.bnbchain.org/en/testnet-faucet
```

---

## üìà M√âTRICAS DE PERFORMANCE

### Gas Usage Estimado

```
Deploy USDT Mock: ~200,000 gas (~$0.05)
Deploy Main: ~4,000,000 gas (~$0.10)
registerUser(): ~150,000 gas (~$0.01)
activateLAI(): ~100,000 gas (~$0.01)
depositWeeklyPerformanceFee(): ~200,000 gas (~$0.02)
batchProcessPerformanceFees(100): ~3,000,000 gas (~$0.30)
```

### Limites do Sistema

```
Max Batch Size: 500 usu√°rios
Max Usu√°rios Ativos: Ilimitado (cleanup autom√°tico)
LAI Validade: 365 dias
Cleanup Threshold: 90 dias inativo
Max N√≠veis MLM: 10
```

---

## ‚úÖ STATUS CHECKLIST

### Setup Inicial
- [x] Contratos compilados sem erros
- [x] USDT Mock deployed
- [x] Main Contract deployed
- [x] Admin financiado ($10M)
- [x] Pioneer financiado ($100k)

### Rede MLM
- [x] Pioneer registrado
- [x] 5 diretos criados
- [x] 5 diretos registrados
- [x] 5 LAIs ativados
- [ ] Pioneer LAI ativado
- [ ] Rede expandida para L2+

### Testes de Distribui√ß√£o
- [ ] Admin depositou performance
- [ ] Batch processado
- [ ] Distribui√ß√£o verificada
- [ ] Saques testados
- [ ] 10 n√≠veis testados

### Produ√ß√£o (Futuro)
- [ ] Auditoria de seguran√ßa
- [ ] Deploy mainnet
- [ ] Verifica√ß√£o no BSCScan
- [ ] Frontend integrado
- [ ] Documenta√ß√£o usu√°rio final

---

## üéØ OBJETIVOS DO PROJETO

### Fase Atual: TESTES ‚úÖ
```
‚úÖ Criar ambiente de teste completo
‚úÖ Deployar contratos na testnet
‚úÖ Criar rede MLM b√°sica (L1)
üîÑ Testar distribui√ß√£o de performance
‚è≥ Expandir rede at√© L10
‚è≥ Testes de stress
```

### Pr√≥xima Fase: MAINNET
```
‚è≥ Auditoria de seguran√ßa
‚è≥ Deploy mainnet
‚è≥ Integra√ß√£o frontend
‚è≥ Onboarding usu√°rios reais
```

---

## üìù NOTAS IMPORTANTES

### ‚ö†Ô∏è CRITICAL

1. **Private Keys:** O arquivo `pioneer-5-directs-1762441940185.json` cont√©m private keys reais. Manter seguro e NUNCA commitar no git.

2. **Mock USDT:** O contrato USDT √© um MOCK com mint ilimitado. Apenas para testes. NUNCA usar em produ√ß√£o.

3. **Testnet Only:** Todos os endere√ßos e transa√ß√µes s√£o na BSC Testnet. N√£o tem valor real.

4. **Admin Control:** O admin tem controle total (owner). Considerar timelock ou multisig para produ√ß√£o.

5. **LAI Requirement:** Usu√°rios DEVEM ter LAI ativo para receber MLM. Pioneer ainda n√£o tem LAI ativo.

### üí° TIPS

- Sempre adicionar `.wait()` ap√≥s transa√ß√µes para evitar nonce issues
- Usar `gasLimit` expl√≠cito em fun√ß√µes complexas
- Verificar LAI ativo antes de processar batch
- Manter backup dos arquivos JSON com private keys
- Testar saques antes de distribui√ß√µes grandes

---

## üìö RECURSOS E LINKS

### Documenta√ß√£o T√©cnica
- Solidity: https://docs.soliditylang.org
- Hardhat: https://hardhat.org/docs
- OpenZeppelin: https://docs.openzeppelin.com
- BSC: https://docs.bnbchain.org

### Ferramentas
- BSCScan Testnet: https://testnet.bscscan.com
- Remix IDE: https://remix.ethereum.org
- Hardhat VSCode: https://hardhat.org/hardhat-vscode

### Comunidade
- BSC Telegram: t.me/BinanceDEXchange
- Hardhat Discord: https://hardhat.org/discord

---

## üîÑ HIST√ìRICO DE ALTERA√á√ïES

### 2025-11-06 - Setup Inicial Completo

**Deploy:**
- ‚úÖ MockUSDTUnlimited em 0x1A77b3eD262986aB97F3A2eF066f1f3127c3b0Cc
- ‚úÖ iDeepXUnifiedSecure em 0x2d436d57a9Fd7559E569977652A082dDC9510740

**Usu√°rios:**
- ‚úÖ Admin financiado com $10M
- ‚úÖ Pioneer financiado com $100k
- ‚úÖ 5 diretos criados e ativados

**Scripts:**
- ‚úÖ setup-existing-contracts.js executado
- ‚úÖ create-5-directs.js executado (5/5 sucesso)
- ‚úÖ debug-pioneer.js executado
- ‚úÖ check-total-users.js criado e executado
- ‚úÖ check-balances.js criado e executado

**Status:**
- 6 usu√°rios registrados
- 5 LAIs ativos
- Pioneer qualificado para L6-L10
- Pronto para depositar performance

---

**FIM DO CONTEXTO - √öLTIMA ATUALIZA√á√ÉO: 2025-11-06**

---

## üöÄ QUICK REFERENCE

```bash
# Verificar estado
npx hardhat run scripts/check-total-users.js --network bscTestnet
npx hardhat run scripts/check-balances.js --network bscTestnet

# Contratos
USDT: 0x1A77b3eD262986aB97F3A2eF066f1f3127c3b0Cc
Main: 0x2d436d57a9Fd7559E569977652A082dDC9510740

# Carteiras
Admin: 0xeb2451a8dd58734134dd7bde64a5f86725b75ef2
Pioneer: 0x75d1a8ac59003088c60a20bde8953cbecfe41669

# Status Atual
Usu√°rios: 6
LAIs Ativos: 5
Pioneer: $100,023.75 (qualificado L6-L10)
Admin: $10,000,000.00

# Pr√≥ximo Passo
1. Pioneer ativar LAI ($19)
2. Admin depositar performance ($35k)
3. Processar batch
```
